# 08 - L3 升级路线：完整家用 AI 机器人方案

> **从 STM32 小车验证成功，到真正的"家庭成员"**
> 
> 预算目标：¥6000 以内
> 设计理念：移动平台 + 机械臂 的模块化架构

---

## 🎯 核心定位

### 当前状态（L2 已验证）

```
✅ STM32 串口通信
✅ 电机控制（前进/后退/转向）
✅ 舵机扫描
✅ 超声波避障
✅ 自主探索模式
✅ Node.js 后端服务
```

### 目标状态（L3 完整机器人）

```
🎯 x86 主机长期运行（7×24）
🎯 远场语音交互（5米拾音）
🎯 深度视觉感知（人脸/物体/距离）
🎯 激光雷达 SLAM 建图
🎯 机械臂交互（递物/挥手）
🎯 情感表达（屏幕表情+灯光）
🎯 室内自主导航
```

---

## 📊 完整配置清单

### 一、计算平台

| 组件 | 推荐型号 | 参考价格 | 渠道 |
|------|----------|----------|------|
| **CPU** | Intel i5-9400 / i7-9700 | ¥400-800 | 闲鱼二手 |
| **主板** | B365M DS3H / Z390 UD | ¥300-500 | 闲鱼二手 |
| **内存** | DDR4 16GB (8G×2) | ¥200-300 | 闲鱼/淘宝 |
| **SSD** | NVMe 512GB | ¥200-300 | 淘宝 |
| **电源** | 600W 80PLUS | ¥150-250 | 闲鱼 |
| **机箱** | ITX Mini | ¥100-200 | 淘宝 |
| **显卡(可选)** | GTX 1080 | ¥800-1200 | 闲鱼 |

**小计：¥1350-3550**（显卡可选）

### 二、感知系统

| 组件 | 推荐型号 | 参考价格 | 渠道 |
|------|----------|----------|------|
| **麦克风阵列** | ReSpeaker XVF-3800 (4麦) | ¥350-400 | 淘宝 |
| **深度相机** | Intel RealSense D435i | ¥700-800 | 闲鱼二手 |
| **激光雷达** | RPLIDAR A1 / YDLIDAR X4 | ¥400-600 | 淘宝/闲鱼 |

**小计：¥1450-1800**

### 三、交互系统

| 组件 | 推荐型号 | 参考价格 | 渠道 |
|------|----------|----------|------|
| **显示屏** | 7寸 HDMI 液晶屏 | ¥250-400 | 淘宝 |
| **扬声器** | 5W 单声道 + 功放模块 | ¥20-50 | 淘宝 |
| **RGB灯带** | WS2812B 灯环 | ¥20-50 | 淘宝 |
| **舵机云台** | 2轴 MG996 云台 | ¥50-100 | 淘宝 |

**小计：¥340-600**

### 四、运动系统

| 组件 | 推荐型号 | 参考价格 | 渠道 |
|------|----------|----------|------|
| **底盘套件** | 四轮差速底盘 + 编码器电机 | ¥200-500 | 淘宝 |
| **电池** | 3S 18650 锂电池组 + BMS | ¥150-300 | 淘宝 |
| **机械臂(可选)** | SO-ARM100 套件 | ¥1500-1900 | 淘宝/闲鱼 |

**小计：¥350-2700**（机械臂可选）

### 五、总预算

| 方案 | 配置 | 预算 |
|------|------|------|
| **基础版** | 无显卡+无机械臂 | ¥3500-4500 |
| **标准版** | 无机械臂 | ¥4500-5500 |
| **完整版** | 全配置 | ¥5500-6500 |

---

## 🏗️ 机器人形态设计

### 推荐尺寸

```
高度：70-80 cm（家庭成员感）
占地：35×35 cm（稳定+承重）
```

### 结构布局

```
        ┌─────────────────┐
        │    头部         │  ← 7寸屏幕 + 深度相机
        │  ┌─────────┐   │     + 麦克风阵列
        │  │  👀👀   │   │
        │  │   👄    │   │
        │  └─────────┘   │
        └────────┬────────┘
                 │ 云台（可转头）
        ┌────────┴────────┐
        │    躯干         │  ← x86 主机藏在这里
        │  ┌─────────┐   │     + RGB 灯带
        │  │  ITX    │   │
        │  │  主机   │   │
        │  └─────────┘   │
        │         ╭───╮  │  ← 机械臂（可选）
        │         │ 臂 │  │
        └────────┬┴───┴──┘
                 │
        ┌────────┴────────┐
        │    底盘         │  ← 电机 + 电池 + 激光雷达
        │  ○           ○  │     (雷达在顶部中央)
        │       ◉        │  ← 激光雷达
        │  ○           ○  │
        └─────────────────┘
```

### 关键设计原则

1. **重心低**：电池放底盘，主机放中部
2. **雷达无遮挡**：360°扫描视野
3. **头部可转**：云台带动屏幕+相机
4. **机械臂收拢**：不工作时靠侧身

---

## 📅 分阶段实施路线

### 阶段 1：静态助手雏形（¥1500-2000）

**目标**：验证语音+视觉+显示

```
购买清单：
├── x86 主机（CPU+主板+内存+SSD+电源）
├── ReSpeaker 麦克风阵列
├── 7寸 HDMI 显示屏
├── 扬声器 + 功放
└── RealSense D435i（可后购）

实现功能：
├── 语音唤醒（Hi Simo）
├── 对话交互（接入 LLM）
├── 表情显示（卡通脸）
└── 人脸识别（可选）
```

**验收标准**：
- [ ] 能听懂语音指令
- [ ] 能用语音回应
- [ ] 屏幕显示表情

---

### 阶段 2：移动底盘集成（+¥1000）

**目标**：从静态到移动

```
购买清单：
├── 四轮差速底盘套件
├── 3S 锂电池组
├── RPLIDAR A1 激光雷达
└── 铝合金支柱（连接头部和底盘）

实现功能：
├── 遥控移动（键盘/手柄）
├── 激光雷达避障
├── SLAM 建图
└── 自主导航（ROS move_base）
```

**验收标准**：
- [ ] 能绘制房间地图
- [ ] 能自主从 A 点到 B 点
- [ ] 遇障碍自动绕行

---

### 阶段 3：机械臂与情感升级（+¥1500-2000）

**目标**：交互能力提升

```
购买清单：
├── SO-ARM100 机械臂套件
├── 舵机云台（头部运动）
├── RGB 灯带
└── 3D打印件（机械臂结构）

实现功能：
├── 挥手/招手动作
├── 递物/抓取
├── 头部跟随人脸
└── 情绪灯光表达
```

**验收标准**：
- [ ] 机械臂能完成基础动作
- [ ] 头部能跟随用户转动
- [ ] 灯光配合情绪变化

---

### 阶段 4：智能优化（持续）

**目标**：成为真正的家庭成员

```
软件优化：
├── 记忆系统完善
├── 个性化对话
├── 主动行为（定时巡逻等）
└── 多模态融合

硬件扩展（可选）：
├── 触摸传感器
├── 环境感知（温湿度/烟雾）
├── 自动充电桩
└── 更大容量电池
```

---

## 🔧 x86 主机配置详解

### 为什么选 x86 而不是树莓派/Jetson？

| 对比项 | x86 主机 | 树莓派 | Jetson |
|--------|----------|--------|--------|
| **稳定性** | ⭐⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐ |
| **算力** | ⭐⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐⭐ |
| **功耗** | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| **可维护** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ |
| **长期运行** | ⭐⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐ |
| **软件生态** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ |

**结论**：家用长期机器人，x86 是最稳妥的选择。

### 推荐配置方案

#### 方案 A：性价比版（¥1500）

```
CPU   : Intel i5-9400（6核6线程）
主板  : B365M DS3H
内存  : 16GB DDR4 2666
SSD   : NVMe 256GB
电源  : 500W 80PLUS
机箱  : ITX Mini
```

#### 方案 B：性能版（¥2500）

```
CPU   : Intel i7-9700（8核8线程）
主板  : Z390 UD
内存  : 16GB DDR4 3200
SSD   : NVMe 512GB
电源  : 650W 80PLUS
机箱  : ITX Mini
显卡  : GTX 1080（可选）
```

### BIOS 关键设置

```
Power Management → Restore on AC Power Loss → Power On
```

**效果**：断电来电自动开机，7×24 无人值守。

---

## 📦 采购渠道建议

### 闲鱼搜索关键词

```
# CPU + 主板
"i5 9400 + B365M 主机"
"i7 9700 + Z390 主板 二手"

# 深度相机
"RealSense D435 深度相机"
"D435i 二手"

# 激光雷达
"RPLIDAR A1 激光雷达"
"YDLIDAR X4"

# 机械臂
"SO100 机械臂 套件"
"Lerobot 机械臂"
```

### 淘宝搜索关键词

```
# 麦克风
"ReSpeaker XVF3800 麦克风阵列"

# 显示屏
"7寸 HDMI 显示屏 树莓派"

# 底盘
"机器人 底盘 套件 差速 编码器"

# 电池
"3S 18650 电池组 BMS"
```

### 3D 打印服务

```
闲鱼搜索："3D打印 服务 定制"
淘宝搜索："Makelab""魔猴网"
```

---

## 🔗 开源资源

### 机械臂

- [SO-ARM100 GitHub](https://github.com/TheRobotStudio/SO-ARM100)
- [Lerobot 项目](https://github.com/huggingface/lerobot)

### 移动机器人

- [XLeRobot](https://github.com/Vector-Wangel/XLeRobot)
- [ROS Navigation](http://wiki.ros.org/navigation)

### 语音交互

- [ReSpeaker Wiki](https://wiki.seeedstudio.com/respeaker_xvf3800_introduction/)
- [Snowboy 唤醒词](https://github.com/seasalt-ai/snowboy)

### 深度相机

- [RealSense SDK](https://github.com/IntelRealSense/librealsense)
- [realsense-ros](https://github.com/IntelRealSense/realsense-ros)

---

## ✅ 与当前 Simo 项目的融合

### 软件架构演进

```
当前（L2）：
┌─────────────────────────────────┐
│  Node.js 后端                   │
│  └── 串口通信 → STM32           │
└─────────────────────────────────┘

目标（L3）：
┌─────────────────────────────────┐
│  Node.js 后端                   │
│  ├── 串口通信 → STM32（底盘）   │
│  ├── USB 串口 → 机械臂舵机      │
│  ├── ROS 节点 → 导航/SLAM       │
│  └── 传感器服务 → 深度相机/雷达 │
└─────────────────────────────────┘
```

### 代码结构扩展

```
server/
├── serial.js          # STM32 通信（现有）
├── autonomy/          # 自主避障（现有）
├── arm/               # 机械臂控制（新增）
│   └── arm.manager.js
├── vision/            # 视觉系统（新增）
│   └── realsense.js
├── nav/               # 导航系统（新增）
│   └── slam.manager.js
└── emotion/           # 情感系统（新增）
    └── expression.js
```

---

## 📌 总结

| 阶段 | 投入 | 成果 |
|------|------|------|
| **当前** | ¥200 | STM32 小车验证成功 |
| **阶段1** | +¥2000 | 静态语音助手 |
| **阶段2** | +¥1000 | 移动导航机器人 |
| **阶段3** | +¥2000 | 完整家用机器人 |
| **总计** | ¥5200 | **真正的"家庭成员"** |

---

**文档版本**: v1.0  
**更新日期**: 2026-01-18  
**维护者**: Simo Team
